# 2021
-   假设我们要访问一相册网站，相册网站网页由 Index 页，大小为 M ; 10 幅相册，每幅相册大小为 A ;每幅相册包
    含 5 幅图片，每幅图片大小为 Р 构成; 步骤:首先下载 Index，然后相册，最后图片; Index 没下载完，不能下载
    相册，相册没有下载完不能下载相册里的图片，但每幅相册之间不相关，即下载相册 i 时是不影响相册 j 的，假设
    对任意相册而言传输时延大于 RTT;其次，每幅图片又比任意一个相册都大; HTTP 的请求包、TCP SYNs 和 ACKs 的
    时延都可以忽略，每次连接时的带宽速率为T，对于HTTP应答和TCP连接终止所需时间可以忽略。对于下面情况，求下
    载整个网页的总时间: （参考谢希仁习题6-16）（假定题中的 T 为总带宽）
    -  (1)具有非持续TCP连接的顺序请求
        - 顺序请求，一次只请求一个，一次需时间 2 RTT + 传输时间
        - 1.下载 Index：`t = (M/T) + 2*RTT`
        - 2.下载 相册(10个挨个下)：`t = (10*A/T) + 20*RTT`
        - 3.下载 相片(50张挨个下)：`t = (50*P/T) + 100*RTT`
        - 总时间 ：`T = (M/T) + (10*A/T) + (50*P/T) + 122*RTT`
    -  (2)具有非持续TCP连接的并行请求(所有相册页同时请求)
        - 并行请求，一次建立多个下载通道，每次请求需时间 2 RTT + 传输时间
        - 1.下载 Index：`t = (M/T) + 2*RTT`
        - 2.下载 相册(10个一起下)：`t = (10*A/T) + 2*RTT` 
        - 3.下载 相片(50张一起下)：`t = (50*P/T) + 2*RTT`  
        - 总时间 ：`T = (M/T) + (10*A/T) + (50*P/T) + 6*RTT`
    -  (3)持续TCP连接顺序请求
        - 持续连接，只建立一次TCP;顺序请求，一次只请求一个，一次需时间 1 RTT = 传输时间
        - 1.下载 Index：`t = (M/T) + 2*RTT`
        - 2.下载 相册(10个挨个下)：`t = (10*A/T) + 10*RTT`
        - 3.下载 相片(50张挨个下)：`t = (50*P/T) + 50*RTT`
        - 总时间 ：`T = (M/T) + (10*A/T) + (50*P/T) + 62*RTT`
    -  (4)持续TCP连接管道式请求
        - 持续连接，只建立一次TCP;并行请求，一次建立全部请求，一次需时间 1 RTT = 传输时间
        - 1.下载 Index：`t = (M/T) + 2*RTT`
        - 2.下载 相册(10个一起下)：`t = (10*A/T) + 1*RTT`  
        - 3.下载 相片(50张一起下)：`t = (50*P/T) + 1*RTT`  
        - 总时间 ：`T = (M/T) + (10*A/T) + (50*P/T) + 4*RTT`



1RTT.   0   4   64

2RTT.   1   8   64
        2   8   64

3RTT.   3   16  64
        4   16  64  丢失   发送窗口卡在此处 等待4号确认
        5   16  64  存缓存 返回接收窗口20   等待4号确认
        6   16  64  存缓存 返回接收窗口16   等待4号确认
        (3号ACK确认后发送窗口+4，起始位置为4号段， 还可以发送 7 8 号段)
4RTT.   7   20  64  存缓存 返回接收窗口12   等待4号确认
        8   20  64  存缓存 返回接收窗口8    等待4号确认
        此时发送窗口全部发完 等待4号确认

        (4 号超时重传 发送窗口置1MSS（大小为4）  阈值为当前发送窗口的一半 10)
        重传4号      发送窗口为4
        按照微观上一个确认段让发送窗口加 1MSS 的原理
        {收到4号确认  发送窗口为8
        收到5号确认  发送窗口为10
        收到6号确认  发送窗口为11
        收到7号确认  发送窗口为12}
        收到8号确认  发送窗口为13


5RTT.   9   13  10  
        10  13  10


     
快排 

1 2 3 4 5 
递归4次

3 1 2 4 5
递归2次