<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据劫持</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
</head>

<!-- 
    Vue 会监视 data 中所有层次的数据，自动的给每个元素添加 getter、setter。
    也就是说，自定义的 data 数据在变成 Vue 实例的 _data 时会给每个元素自动添加 getter、setter（数据劫持）。
    Vue 只会对 new Vue 时就存在的 data 数据做数据劫持，后添加的数据默认不会做数据劫持
    该方法用来给后添加的属性做响应式处理:Vue.set(要添加属性的对象，要添加的属性名/数组索引值，属性对应的值)
    Vue.set(vm._data.student, 'sex', 'male') 
    
    如果 data 中的属性是一个数组，那么监视数组的变化首先需要数组本身发生变化，
    比如调用 sort、reverse 等方法，Vue 会对这些方法进行包装，自动的先将数组本身改变，然后重新解析模板，渲染新数组的数据。
    可以使得数组本身发生变化的方法：
        push：在数组的最后添加一个元素
        pop：删除数组的最后一个元素
        shift：删除数组的第一个元素
        unshift：在数组的最前面添加一个元素
        splice：在数组的指定位置进行插入、删除、替换等操作
        sort：对数组进行排序
        reverse：反转数组
 -->
 <body>
    <div id="root">
        <h2>名称：{{student.name}}</h2>
        <!-- 引用的是初始化时不存在的属性 -->
        <h2>性别：{{student.sex}}</h2>
    </div>
</body>

<script type="text/javascript">
    const vm = new Vue({
        el:'#root',
        data:{
            student:{
                name: 'Jay'
            }
        }
    })
</script>


</html>